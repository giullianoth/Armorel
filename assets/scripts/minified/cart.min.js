import{getElement as e,getElements as t,isVisible as r}from"./variables.min.js";import{slideDown as c,slideUp as a}from"./effects.min.js";let elementsToCollapse=t(".j_cart_collapse"),collapseButton=t=>e(".j_cart_collapse_clickable",t),collapseArea=t=>e(".j_cart_collapse_content",t),icon=t=>e("i",t);elementsToCollapse.forEach(e=>{let t=collapseButton(e);t.addEventListener("click",()=>{let o=collapseArea(e);icon(t)&&icon(t).classList.toggle("active"),r(o)?a(o):c(o,e.classList.contains("freight-calc")?"flex":"block")})});let productPriceTotal=t=>e(".j_product_total",t.parentNode.parentNode),productPixPriceTotal=t=>e(".j_pix_total",t.parentNode.parentNode),productPrice=t=>e(".j_product_price",t.parentNode.parentNode),productPixPrice=t=>e(".j_pix_price",t.parentNode.parentNode),allPrices=()=>t(".j_product_total").map(e=>parseFloat(e.innerText)),allPixPrices=()=>t(".j_pix_total").map(e=>parseFloat(e.innerText)),cartSubtotal=e(".j_cart_subtotal"),cartPix=e(".j_cart_pix"),cartTotal=e(".j_cart_total");export function UpdatePrice(e){let t=parseInt(e.innerText),r=parseInt(productPrice(e).innerText),c=parseInt(productPixPrice(e).innerText);productPriceTotal(e).innerText=(t*r).toFixed(2).replace(".",","),productPixPriceTotal(e).innerText=(t*c).toFixed(2).replace(".",",");let a=allPixPrices().reduce((e,t)=>e+t,0),o=allPrices().reduce((e,t)=>e+t,0);cartSubtotal.innerText=o.toFixed(2).replace(".",","),cartPix.innerText=a.toFixed(2).replace(".",","),cartTotal.innerText=o.toFixed(2).replace(".",",")}